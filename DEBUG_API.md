# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ API –ø—Ä–æ–±–ª–µ–º

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ Netlify

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Netlify**
2. **–í—ã–±–µ—Ä–∏—Ç–µ "Site settings"**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Environment variables"**
4. **–ù–∞–π–¥–∏—Ç–µ `CLASH_ROYALE_API_TOKEN`**
5. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ**

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ API

### **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Netlify:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Functions" ‚Üí "api"
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
3. –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫–∏

### **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

#### **–ü—Ä–æ–±–ª–µ–º–∞ 1: –¢–æ–∫–µ–Ω –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è**
- –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

#### **–ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJ`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

#### **–ü—Ä–æ–±–ª–µ–º–∞ 3: IP –∞–¥—Ä–µ—Å –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è**
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è IP
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω

## –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–∞–ø—Ä—è–º—É—é

### **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:**
```javascript
// test-api.js
const axios = require('axios');

const token = 'YOUR_NEW_TOKEN_HERE';
const url = 'https://api.clashroyale.com/v1/players/%238J80CR92J';

axios.get(url, {
    headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
    }
})
.then(response => {
    console.log('‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç:', response.status);
    console.log('–î–∞–Ω–Ω—ã–µ:', response.data.name);
})
.catch(error => {
    console.log('‚ùå –û—à–∏–±–∫–∞ API:', error.response?.status);
    console.log('–°–æ–æ–±—â–µ–Ω–∏–µ:', error.response?.data);
});
```

## –®–∞–≥ 4: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### **–í–∞—Ä–∏–∞–Ω—Ç A: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω**
1. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å IP `0.0.0.0/0`
3. –û–±–Ω–æ–≤–∏—Ç–µ –≤ Netlify

### **–í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ö–æ—Å—Ç–∏–Ω–≥**
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ Railway –∏–ª–∏ Render
- –û–Ω–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥–∏–µ IP –∞–¥—Ä–µ—Å–∞

### **–í–∞—Ä–∏–∞–Ω—Ç C: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python proxy_server.py`
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

### **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `functions/api.js`:**
```javascript
const CLASH_ROYALE_API_TOKEN = process.env.CLASH_ROYALE_API_TOKEN;
console.log('Token:', CLASH_ROYALE_API_TOKEN ? 'Present' : 'Missing');
```

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ IP –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞
nslookup your-site-name.netlify.app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
curl -H "Authorization: Bearer YOUR_TOKEN" https://api.clashroyale.com/v1/players/%238J80CR92J
```

**–ö–∞–∫–æ–π —à–∞–≥ –ø–æ–ø—Ä–æ–±—É–µ—Ç–µ —Å–Ω–∞—á–∞–ª–∞?**
